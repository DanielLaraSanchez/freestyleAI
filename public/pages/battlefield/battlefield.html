<!DOCTYPE html>
<html>
  <head>
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>P2P Rap Battle</title>
    <link
      rel="stylesheet"
      href="https://maxcdn.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css"
    />
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.16.0/umd/popper.min.js"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js"></script>
    <script src="/socket.io/socket.io.js"></script>
    <style>
      body {
        margin: 0;
        font-family: Arial, sans-serif;
      }
      .header {
        background-color: #333;
        padding: 6px 0;
      }
      .logo {
        color: #fff;
        margin: 0;
      }
      #signout-btn {
        border: none;
        background-color: transparent;
        color: #fff;
        font-weight: bold;
      }
    </style>
    <link rel="stylesheet" href="/pages/battlefield/battlefield.css" />
  </head>
  <body style="">
    <nav class="navbar navbar-expand-lg navbar-dark">
      <a
        style="
          color: white;
          font-weight: 600;
          font-size: 2rem;
          margin-left: 0.7rem;
        "
        class="navbar-brand-two"
        href="#"
        ><span id="logo-F">F</span>- RAPS</a
      >
      <button
        class="navbar-toggler"
        type="button"
        data-toggle="collapse"
        data-target="#navbarSupportedContent"
        aria-controls="navbarSupportedContent"
        aria-expanded="false"
        aria-label="Toggle navigation"
      >
        <span class="navbar-toggler-icon"></span>
      </button>

      <div class="collapse navbar-collapse" id="navbarSupportedContent">
        <ul class="navbar-nav mr-auto"></ul>
        <form class="form-inline my-2 my-lg-0">
          <button
            id="signout-btn"
            class="btn btn-outline-danger my-2 my-sm-0"
            type="submit"
          >
            Sign Out
          </button>
        </form>
        <button
          class="signout-btn btn btn-outline-danger my-2 my-sm-0 d-lg-none d-xl-none"
          onclick="openRanking()"
        >
          Ranking
        </button>
      </div>
    </nav>
    <div class="container-fluid" style="height: calc(100vh - 60px)">
      <button class="chat-open-button d-lg-none d-xl-none" onclick="openChat()">
        <svg
          xmlns="http://www.w3.org/2000/svg"
          xmlns:xlink="http://www.w3.org/1999/xlink"
          version="1.1"
          width="36"
          height="36"
          viewBox="0 0 256 256"
          xml:space="preserve"
        >
          <defs></defs>
          <g
            style="
              stroke: none;
              stroke-width: 0;
              stroke-dasharray: none;
              stroke-linecap: butt;
              stroke-linejoin: miter;
              stroke-miterlimit: 10;
              fill: none;
              fill-rule: nonzero;
              opacity: 1;
            "
            transform="translate(1.4065934065934016 1.4065934065934016) scale(2.81 2.81)"
          >
            <path
              d="M 45 0 C 20.147 0 0 20.147 0 45 c 0 9.144 2.735 17.645 7.42 24.746 L 0 89.474 l 19.536 -7.375 C 26.778 87.079 35.547 90 45 90 c 24.853 0 45 -20.147 45 -45 S 69.853 0 45 0 z M 50.781 57.495 L 38.473 45.932 L 17.4 57.495 l 23.87 -24.989 l 11.562 11.189 L 72.6 33.624 L 50.781 57.495 z"
              style="
                stroke: none;
                stroke-width: 1;
                stroke-dasharray: none;
                stroke-linecap: butt;
                stroke-linejoin: miter;
                stroke-miterlimit: 10;
                fill: rgb(0, 0, 0);
                fill-rule: nonzero;
                opacity: 1;
              "
              transform=" matrix(1 0 0 1 0 0) "
              stroke-linecap="round"
            />
          </g>
        </svg>
      </button>
      <div class="main-content h-100">
        <div class="ranking-div">
          <div id="ranking-main">
            <div class="cross-icon d-lg-none d-xl-none">
              <svg
                stroke="currentColor"
                fill="currentColor"
                stroke-width="0"
                viewBox="0 0 1024 1024"
                class="close-button text-white"
                height="20"
                width="20"
                xmlns="http://www.w3.org/2000/svg"
              >
                <path
                  d="M563.8 512l262.5-312.9c4.4-5.2.7-13.1-6.1-13.1h-79.8c-4.7 0-9.2 2.1-12.3 5.7L511.6 449.8 295.1 191.7c-3-3.6-7.5-5.7-12.3-5.7H203c-6.8 0-10.5 7.9-6.1 13.1L459.4 512 196.9 824.9A7.95 7.95 0 0 0 203 838h79.8c4.7 0 9.2-2.1 12.3-5.7l216.5-258.1 216.5 258.1c3 3.6 7.5 5.7 12.3 5.7h79.8c6.8 0 10.5-7.9 6.1-13.1L563.8 512z"
                ></path>
              </svg>
            </div>
            <div id="ranking"></div>
          </div>
          <!-- <div id="ranking">
            <div class="cross-icon d-lg-none d-xl-none">
              <svg
                stroke="currentColor"
                fill="currentColor"
                stroke-width="0"
                viewBox="0 0 1024 1024"
                class="close-button text-white"
                height="20"
                width="20"
                xmlns="http://www.w3.org/2000/svg"
              >
                <path
                  d="M563.8 512l262.5-312.9c4.4-5.2.7-13.1-6.1-13.1h-79.8c-4.7 0-9.2 2.1-12.3 5.7L511.6 449.8 295.1 191.7c-3-3.6-7.5-5.7-12.3-5.7H203c-6.8 0-10.5 7.9-6.1 13.1L459.4 512 196.9 824.9A7.95 7.95 0 0 0 203 838h79.8c4.7 0 9.2-2.1 12.3-5.7l216.5-258.1 216.5 258.1c3 3.6 7.5 5.7 12.3 5.7h79.8c6.8 0 10.5-7.9 6.1-13.1L563.8 512z"
                ></path>
              </svg>
            </div>
          </div> -->
        </div>
        <div class="fight-div">
          <div
            class="users-container mb-2 bg-users-list d-flex flex-column justify-content-between align-items-center"
            style="height: 90vh; overflow-y: auto"
          >
            <ul id="users-list" class="list-group grid-container"></ul>
            <button id="fight-btn" class="btn btn-sm">Fight</button>
          </div>
        </div>
        <div class="chat-div">
          <div class="chat-container card">
            <div class="card-body d-flex flex-column">
              <div class="cross-icon d-lg-none d-xl-none">
                <svg
                  stroke="currentColor"
                  fill="currentColor"
                  stroke-width="0"
                  viewBox="0 0 1024 1024"
                  class="close-chat text-white"
                  height="20"
                  width="20"
                  xmlns="http://www.w3.org/2000/svg"
                >
                  <path
                    d="M563.8 512l262.5-312.9c4.4-5.2.7-13.1-6.1-13.1h-79.8c-4.7 0-9.2 2.1-12.3 5.7L511.6 449.8 295.1 191.7c-3-3.6-7.5-5.7-12.3-5.7H203c-6.8 0-10.5 7.9-6.1 13.1L459.4 512 196.9 824.9A7.95 7.95 0 0 0 203 838h79.8c4.7 0 9.2-2.1 12.3-5.7l216.5-258.1 216.5 258.1c3 3.6 7.5 5.7 12.3 5.7h79.8c6.8 0 10.5-7.9 6.1-13.1L563.8 512z"
                  ></path>
                </svg>
              </div>
              <h4 class="card-title">Chat</h4>
              <div class="chat-messages-container overflow-auto"></div>
              <div class="input-group mt-2">
                <input
                  id="chat-input"
                  type="text"
                  class="form-control form-control-sm"
                  placeholder="Type your message..."
                />
                <div class="input-group-append">
                  <button id="chat-send-btn" class="btn btn-sm btn-primary">
                    Send
                  </button>
                </div>
              </div>
            </div>
          </div>
          <div></div>
        </div>
      </div>
    </div>

    <div id="modal" class="modal">
      <div class="modal-content">
        <span id="close-modal" class="close mb-4">&times;</span>
        <div
          id="modal-video-container"
          class="d-flex flex-column flex-sm-row justify-content-between align-items-center"
        >
          <div class="video-wrapper local-video-container">
            <div style="color: #fff" id="local-nickname-field"></div>
          </div>

          <div
            class="count-down-div d-flex flex-column justify-content-between h-100 align-content-center"
          >
            <div>
              <div id="countdown" class="count-down-text mb-4"></div>
              <div id="words" class="words-text mb-4"></div>
              <div id="timer" class="mb-4 count-down-text"></div>
            </div>
            <button id="ready-btn" class="button">Ready</button>
            <button id="vote-btn" class="button">Vote</button>
          </div>

          <div class="video-wrapper remote-video-container">
            <div style="color: #fff" id="remote-nickname-field"></div>
          </div>
        </div>
      </div>
    </div>
    <script>
      function openRanking() {
        document.querySelector(".ranking-div").classList.add("translate-zero");
        document.querySelector(".chat-div").classList.remove("translate-zero");
      }
      function openChat() {
        document.querySelector(".chat-div").classList.add("translate-zero");
        document
          .querySelector(".ranking-div")
          .classList.remove("translate-zero");
      }
      function close() {
        document.querySelector(".chat-div").classList.remove("translate-zero");
        document
          .querySelector(".ranking-div")
          .classList.remove("translate-zero");
      }
      document.querySelector(".close-button").addEventListener("click", close);
      document.querySelector(".close-chat").addEventListener("click", close);
    </script>
    <script src="/socket.io/socket.io.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/webrtc-adapter/7.7.1/adapter.min.js"></script>
    <script type="module" src="/pages/battlefield/battlefield.js"></script>
  </body>
</html>
